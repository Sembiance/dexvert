#!/bin/bash
# shellcheck disable=SC2154,SC2034

lineNum=1
hls -alb | while IFS= read -r line; do
	subLineNum=1

	if [ "$1" -eq "$lineNum" ]; then
		hls -a1b | while IFS= read -r filename; do
			if [ $subLineNum -eq $lineNum ]; then
				escapedFilename=${filename//\{/\\\{}
				escapedFilename=${escapedFilename//\}/\\\}}
				escapedFilename=${escapedFilename//\'/\\"'"}
				#escapedFilename=${filename//\'/\\"'"}
				echo $escapedFilename
				eval "hcd $'$escapedFilename'"
			fi

			subLineNum=$((subLineNum + 1))
		done
	fi

	lineNum=$((lineNum + 1))
done
